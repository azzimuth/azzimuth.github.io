<!DOCTYPE HTML>
<html>

<head>
  <!-- Original CPT -->
  <!-- attention_grabber_ax_fruit based on snappyapp version 9 - Michael Craven, MindTech.org.uk - Copyright University of Nottingham (c) 2013-2021 -->
  <!-- fix screen size and scaling -->
  <!-- NEW: version 9_2_200ms Reduced test to 8 mins with a 2 second interval. 200ms stimulus -->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
  <!-- css style for image caching -->
  <style>
    .hidden {
      display: none;
    }

    textarea {
      font-size: 12pt;
      font-family: Arial;
    }

    .blue-dot {
      fill: blue;
    }

    .red-dot {
      fill: red;
    }
  </style>

  <!-- JQuery no longer used -->
  <!-- use JQuery / Ajax for accessing server -->
  <!--<script src="http://code.jquery.com/jquery-1.10.1.min.js"></script>-->
  <!-- <script src="jquery-1.10.2.js"></script> -->
  <script src="https://d3js.org/d3.v5.min.js"></script>
  <script type="text/javascript">

    // identification data (should be anonymous) - array - 400
    var user_id = [
      -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
      -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
      -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
      -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1
    ];

    // sample numbers
    var samples = [
      -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
      -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
      -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
      -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1
    ];
    for (var s = 0; s < 400; s++) {
      samples[s] = s + 1;
    }

    // random presentation of 100 chars x 4 (using random.org on 1-90: AX*10%, A*10%, X*10%, H*20%, D/E/F/G/J/L*5% each)
    var letters = [
      "H", "A", "B", "D", "B", "L", "D", "X", "H", "G", "A", "H", "A", "X", "H", "A", "X", "D", "H", "H", "H", "F", "E", "H", "H", "A", "X", "J", "J", "F", "A", "H", "X", "E", "G", "E", "X", "A", "X", "C", "F", "L", "A", "B", "G", "C", "A", "X", "X", "D", "H", "H", "H", "B", "A", "B", "A", "X", "H", "H", "A", "X", "A", "X", "H", "C", "J", "L", "C", "A", "X", "X", "X", "L", "H", "X", "H", "C", "X", "A", "A", "X", "E", "L", "H", "J", "D", "A", "E", "F", "A", "G", "X", "G", "A", "J", "F", "X", "A", "H",
      "H", "A", "B", "D", "B", "L", "D", "X", "H", "G", "A", "H", "A", "X", "H", "A", "X", "D", "H", "H", "H", "F", "E", "H", "H", "A", "X", "J", "J", "F", "A", "H", "X", "E", "G", "E", "X", "A", "X", "C", "F", "L", "A", "B", "G", "C", "A", "X", "X", "D", "H", "H", "H", "B", "A", "B", "A", "X", "H", "H", "A", "X", "A", "X", "H", "C", "J", "L", "C", "A", "X", "X", "X", "L", "H", "X", "H", "C", "X", "A", "A", "X", "E", "L", "H", "J", "D", "A", "E", "F", "A", "G", "X", "G", "A", "J", "F", "X", "A", "H",
      "H", "A", "B", "D", "B", "L", "D", "X", "H", "G", "A", "H", "A", "X", "H", "A", "X", "D", "H", "H", "H", "F", "E", "H", "H", "A", "X", "J", "J", "F", "A", "H", "X", "E", "G", "E", "X", "A", "X", "C", "F", "L", "A", "B", "G", "C", "A", "X", "X", "D", "H", "H", "H", "B", "A", "B", "A", "X", "H", "H", "A", "X", "A", "X", "H", "C", "J", "L", "C", "A", "X", "X", "X", "L", "H", "X", "H", "C", "X", "A", "A", "X", "E", "L", "H", "J", "D", "A", "E", "F", "A", "G", "X", "G", "A", "J", "F", "X", "A", "H",
      "H", "A", "B", "D", "B", "L", "D", "X", "H", "G", "A", "H", "A", "X", "H", "A", "X", "D", "H", "H", "H", "F", "E", "H", "H", "A", "X", "J", "J", "F", "A", "H", "X", "E", "G", "E", "X", "A", "X", "C", "F", "L", "A", "B", "G", "C", "A", "X", "X", "D", "H", "H", "H", "B", "A", "B", "A", "X", "H", "H", "A", "X", "A", "X", "H", "C", "J", "L", "C", "A", "X", "X", "X", "L", "H", "X", "H", "C", "X", "A", "A", "X", "E", "L", "H", "J", "D", "A", "E", "F", "A", "G", "X", "G", "A", "J", "F", "X", "A", "H"
    ];


    // letter was clicked on - array - 400
    var clicks = [
      -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
      -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
      -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
      -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1
    ];

    // reaction time - array - 400
    var rt = [
      -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
      -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
      -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
      -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1
    ];

    // average accelerometer magnitude over presentation interval - array - 400
    var acc_mag = [
      -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
      -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
      -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
      -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1
    ];

    // average gyroscope magnitude over presentation interval - array - 400
    var gyr_mag = [
      -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
      -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
      -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
      -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1
    ];


    // sums of clicks: AX count, AX clicks, Omissions, Errors 
    var sums_clicks = [
      -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
      -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
      -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
      -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1
    ];

    // RT Mean, RT SD
    var means_rt = [
      -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
      -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
      -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
      -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1
    ];


    // Acc Mean, Acc SD
    var means_acc = [
      -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
      -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
      -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
      -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1
    ];

    // Gyr Mean, Gyr SD
    var means_gyr = [
      -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
      -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
      -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
      -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1
    ];

    // get all acc and gyr data, if any.
    var acc_global_count = 0;
    var acc_t0 = 0;
    var acc_gyr = [];
    var acc_t = 0;
    var acc_x = 0;
    var acc_y = 0;
    var acc_z = 0;
    var gyr_a = 0;
    var gyr_b = 0;
    var gyr_g = 0;

    window.addEventListener("devicemotion", function (event) {
      if (event.rotationRate.alpha || event.rotationRate.beta || event.rotationRate.gamma)
        window.getElementById('GYRO_PRESENT').innerHTML = "Gyro present";
      if (event.accelerationIncludingGravity.x || event.accelerationIncludingGravity.y || event.accelerationIncludingGravity.z)
        window.getElementById('Acc_PRESENT').innerHTML = "Accelerometer present";
    });

    // version number
    var version_number = "9_2_cpt_ax_200ms";

    // user id
    var userid;

    // control flags
    var started = 0;     // prevent starting twice
    var showclicks = 0;  // show clicks by changing the colour of the ax button (if used)
    var showstartclicks = 1; // show clicks by changing the colour of the start button 
    var debug = 1;  // general debug - lots of data while running
    var debug_rt = debug; // show the reaction time
    var debug_acc = debug; // show accelerometer reading
    var debug_gyr = debug; // show gyroscope reading
    var debug_rt_mean = debug; // show the sum of ax clicks and mean reaction time results after running for the whole time and each quarter
    var debug_acc_mean = debug; // show the mean accelerometer mean readings for the whole time and each quarter
    var debug_gyr_mean = debug; // show the mean accelerometer mean readings for the whole time and each quarter
    var debug_motion_event = debug;
    var debug_orientation_event = debug;
    var debug_emailed_data = debug; // show the data to be emailed
    var debug_post_data_success = debug; // show post data success

    var debug_storage = debug; // show the data to be stored
    var store_locally = 0;  // store results locally - not needed if writing to server

    // new control flags
    var need_user_id = 1;
    var emailing_data = 1;
    var picture_presentation = 0;
    var show_score = 1;
    var newhiscore = 0;  // flag for hiscore exceeded during game

    // new variables 
    var score = 0;
    var thisscore = 0;
    var round = 0;
    var hiscore = 0;
    var savedhiscore = 0;  // previous games' highscore
    var xcount = 0;
    var xclicked = 0;
    var xdiff = 0;   // xcount-xclicked
    var xpenalty = 0;  // xdiff*penaltyscore;
    var penaltyscore = -500;

    // button colours
    var ax_button_colour = "#bfbfbf";            // grey
    var ax_button_clicked_colour = "#efefef";    // lighter grey
    var start_button_colour = "#ff0000";         // red
    var start_button_clicked_colour = "#00ff00";  // green
    var start_button_showclick_colour = "#0000ff";  // blue, was darker green #00dd00
    var wait_button_colour = "#ffff00";         // yellow

    // presentation constants and variables
    var maxcount = 40;                          // Original: 400 around 11 minutes. can reduce while debugging - needs to be multiple of 4    
    var presentation_period = 2000;               // Original: 1.65 seconds - so total of 400 presentation is 11 minutes
    var presentation_duration = 200;              // Original: Show for 150 milliseconds, then black for rest of period 
    var count = 0;                                  // global counter for presentations 
    var xaCount = [];                             //Array with counts when X after A was displayed
    var xaClicked = [];                           //Array with counts when user clicked after X after A was displayed
    var comissions = [];                          //Array with counts when user clicked when they shouldn't

    // timer handle and variables
    var MyInt;  // presentation interval
    var d;      // date
    var t1;     // reaction time start, from date
    var t2;     // reaction time end, from date
    var tr;     // reaction time difference, t2-t1

    // touch screen handles
    var is_touch_device = 'ontouchstart' in document.documentElement;   // true if there is a touch screen available
    var myTouch;
    var touchstarthandler;  // when touch screen is touched
    var touchmovehandler;   // not used, but disables default action


    // mouse and keyboard handles
    var is_mouse_device;
    var is_keyboard_device;

    // use mouse and keyboard handler only if there is no touch screen
    if (is_touch_device) {
      // do nothing to avoid double count when there is a touch screen
    }
    else  // initiate mouse and keyboard handling (on down) using same function as touch screen
    {
      is_mouse_device = document.onmousedown = myReactionTimeFunction;
      is_keyboard_device = document.onkeydown = myReactionTimeFunction;
    }


    // device motion - accelerometer readings 
    var devicemotionhandler;
    var acc_count = 0;
    var average_magnitudeXYZ = 0;
    var magnitudeXYZ;

    // device motion - gyroscope readings 
    var deviceorientationhandler;
    var gyr_count = 0;
    var average_magnitudeABG = 0;
    var magnitudeABG;

    // if browser and device supports the DeviceMotionEvent, we can add an event listener. 
    function myDeviceMotionAddListener() {
      if (window.DeviceMotionEvent != undefined) {
        window.addEventListener('devicemotion', devicemotionhandler, false);
      }
      else {
        if (debug_motion_event == 1) {
          document.getElementById("DM_EVENT").innerHTML = ("Device Motion Not supported.");
        }
      }
    }

    function myDeviceMotionRemoveListener() {
      if (window.DeviceMotionEvent != undefined) {
        window.removeEventListener('devicemotion', devicemotionhandler, false);
      }
    }

    // if browser and device supports the DeviceOrientationEvent, we can add an event listener. 
    function myDeviceOrientationAddListener() {
      if (window.DeviceOrientationEvent != undefined) {
        window.addEventListener('deviceorientation', deviceorientationhandler, false);
      }
      else {
        if (debug_orientation_event == 1) {
          document.getElementById("DO_EVENT").innerHTML = ("Device Orientation Not supported.");
        }
      }
    }

    function myDeviceOrientationRemoveListener() {
      if (window.DeviceOrientationEvent != undefined) {
        window.removeEventListener('deviceorientation', deviceorientationhandler, false);
      }
    }


    // get the acceleration, find the magnitude and update the average during presentation
    function devicemotionhandler() {

      acc_x = event.accelerationIncludingGravity.x;
      acc_y = event.accelerationIncludingGravity.y;
      acc_z = event.accelerationIncludingGravity.z;

      d = new Date()
      acc_t = d.getTime();
      if (acc_t0 == 0) acc_t0 = acc_t;

      acc_global_count++;

      acc_gyr.push({
        "userid": userid,
        "sample": acc_global_count,
        "count": count + 1,
        "t": acc_t - acc_t0,
        "x": acc_x.toFixed(4),
        "y": acc_y.toFixed(4),
        "z": acc_z.toFixed(4),
        "a": gyr_a.toFixed(4),
        "b": gyr_b.toFixed(4),
        "g": gyr_g.toFixed(4),
      });

      if (debug_acc == 1) {
        document.getElementById("ACC_X").innerHTML = "Acc X: " + event.accelerationIncludingGravity.x;
        document.getElementById("ACC_Y").innerHTML = "Acc Y: " + event.accelerationIncludingGravity.y;
        document.getElementById("ACC_Z").innerHTML = "Acc Z: " + event.accelerationIncludingGravity.z;
      }
      magnitudeXYZ = Math.sqrt((acc_x * acc_x) + (acc_y * acc_y) + (acc_z * acc_z));
      average_magnitudeXYZ += magnitudeXYZ;  // running totals, for averaging

      //  following does not seem to work...
      //    if ( event.rotationRate )
      //    {
      //	    if(debug_gyr==1)
      //	    {
      //	     document.getElementById("GYR_A").innerHTML = event.rotationRate.alpha;
      //	     document.getElementById("GYR_B").innerHTML = event.rotationRate.beta;
      //	     document.getElementById("GYR_G").innerHTML = event.rotationRate.gamma;
      //	    }
      //	    magnitudeABG=Math.sqrt((event.rotationRate.alpha*event.rotationRate.alpha)+(event.rotationRate.beta*event.rotationRate.beta)+(event.rotationRate.gamma*event.rotationRate.gamma));
      //      average_magnitudeABG+=magnitudeABG; 
      //    }	  

      acc_count++;   // need to count the number of samples, for averaging later		
    }

    // get the orientation, find the magnitude and update the average during presentation
    function deviceorientationhandler() {

      // global store 
      gyr_a = event.alpha;
      gyr_b = event.beta;
      gyr_g = event.gamma;

      if (debug_gyr == 1) {
        document.getElementById("GYR_A").innerHTML = "Gyro A: " + event.alpha;
        document.getElementById("GYR_B").innerHTML = "Gyro B: " + event.beta;
        document.getElementById("GYR_G").innerHTML = "Gyro G: " + event.gamma;
      }
      magnitudeABG = Math.sqrt((event.alpha * event.alpha) + (event.beta * event.beta) + (event.gamma * event.gamma));
      average_magnitudeABG += magnitudeABG;
      gyr_count++;   // need to count the number of samples, for averaging later		
    }


    // touch screen event - only activated if there is a touch screen device
    function myTouchAddListener() {
      if (is_touch_device) {
        document.addEventListener('touchstart', touchstarthandler = function (event) {
          myReactionTimeFunction();
          //      alert(event.touches.length);
        }, false);


        // disable touch move default 
        document.addEventListener('touchmove', touchmovehandler = function (event) {
          event.preventDefault();
          var touch = event.touches[0];
          if (debug == 1) {
            document.getElementById("TOUCHMOVE_XY").innerHTML = ("Touch x:" + touch.pageX + ", y:" + touch.pageY);
          }
        }, false);
      }
    }

    function myTouchRemoveListener() {
      // remove both listeners for touchscreen touch start and moving
      if (is_touch_device) {
        document.removeEventListener('touchstart', touchstarthandler, false);
        document.removeEventListener('touchmove', touchmovehandler, false);
      }
    }


    function myTimer() {

      // reset the button colour if required - first is needed if there is a button, second if the start button is modified
      if (showclicks == 1) {
        document.getElementById("AX_BUTTON").style.background = ax_button_colour;
      }
      if (showstartclicks == 1) {
        document.getElementById("START_BUTTON").style.background = start_button_clicked_colour;
      }

      // show the next letter

      if (show_score == 1) {
        if (letters[count] == "X" && letters[count - 1] == "A") {
          xcount++;
          xaCount.push(count);
        }
      }

      if (picture_presentation == 1) {
        if (letters[count] == "A") { document.getElementById("PRESENT_PICTURE").src = "7.png"; }
        if (letters[count] == "B") { document.getElementById("PRESENT_PICTURE").src = "1.png"; }
        if (letters[count] == "C") { document.getElementById("PRESENT_PICTURE").src = "2.png"; }
        if (letters[count] == "D") { document.getElementById("PRESENT_PICTURE").src = "3.png"; }
        if (letters[count] == "E") { document.getElementById("PRESENT_PICTURE").src = "4.png"; }
        if (letters[count] == "F") { document.getElementById("PRESENT_PICTURE").src = "5.png"; }
        if (letters[count] == "G") { document.getElementById("PRESENT_PICTURE").src = "6.png"; }
        if (letters[count] == "H") { document.getElementById("PRESENT_PICTURE").src = "8.png"; }
        if (letters[count] == "J") { document.getElementById("PRESENT_PICTURE").src = "9.png"; }
        if (letters[count] == "L") { document.getElementById("PRESENT_PICTURE").src = "10.png"; }
        if (letters[count] == "X") { document.getElementById("PRESENT_PICTURE").src = "12.png"; }
      }
      else {
        document.getElementById("PRESENT_LETTER").innerHTML = letters[count];
      }
      if (acc_count > 0) {
        acc_mag[count] = average_magnitudeXYZ / acc_count;    // if no acc this will remain as zero
      }
      if (gyr_count > 0) {
        gyr_mag[count] = average_magnitudeABG / gyr_count;    // if no gyr this will remain as zero
      }

      if (debug_acc == 1) {
        document.getElementById("ACC_MAG_ID").innerHTML = ("Average acc_mag: " + acc_mag[count] + "<br />");
      }

      if (debug_gyr == 1) {
        document.getElementById("GYR_MAG_ID").innerHTML = ("Average gyr_mag: " + gyr_mag[count] + "<br />");
      }

      average_magnitudeXYZ = 0; //reset averaging over presentation interval
      average_magnitudeABG = 0; //reset averaging over presentation interval

      acc_count = 0; // ditto
      gyr_count = 0;

      d = new Date()
      t1 = d.getTime();
      count = count + 1;
      if (count == maxcount) myStopFunction();
      if (debug == 1) {
        document.getElementById("COUNT_ID").innerHTML = ("Count=" + count);
      }
      // delete the letter after presentation for fixed time
      //  var timeout = setTimeout(function(){document.getElementById("PRESENT_LETTER").innerHTML=(" " + "<br>")},presentation_duration);

      // delete the letter or picture after presentation for fixed time
      var timeout;
      if (picture_presentation == 1) {
        timeout = setTimeout(function () { document.getElementById("PRESENT_PICTURE").src = "0.png"; }, presentation_duration);
      }
      else {
        timeout = setTimeout(function () { document.getElementById("PRESENT_LETTER").innerHTML = (" " + "<br>") }, presentation_duration);
      }
    }


    function myStartFunction() {
      if (started == 0)   // don't start twice
      {
        if (need_user_id == 1) {

          // get user id;
          userid = prompt('Enter your SnappyApp User ID', '');

          if (userid == undefined) {
            started = 0;
            // revert colour 
            document.getElementById("START_BUTTON").style.background = start_button_colour;
            document.getElementById("START_BUTTON").value = "Cancelled. Refresh to restart";
            return;
          }
          else {
            if (userid == 'please type your initials here') {
              started = 0;
              // revert colour 
              document.getElementById("START_BUTTON").style.background = start_button_colour;
              document.getElementById("START_BUTTON").value = "No ID entered. Refresh to restart";
              return;
            }
            else {
              if (userid == '') {
                started = 0;
                // revert colour 
                document.getElementById("START_BUTTON").style.background = start_button_colour;
                document.getElementById("START_BUTTON").value = "No ID entered. Refresh to restart";
                return;
              }
            }
          }
        }

        // revert colour 
        document.getElementById("START_BUTTON").style.background = wait_button_colour;
        document.getElementById("START_BUTTON").value = "Get ready...";
        document.getElementById("INSTRUCTIONS_TEXTBOX").style.display = "none"; // delete instructions
        //    myStartingFunction();
        setTimeout(myStartingFunction, 2000);
      }
    }

    function myStartingFunction() {


      if (debug == 1) {
        document.getElementById("USER_ID").innerHTML = "User id: " + userid;
      }
      user_id[0] = userid;

      // get date of test starting and store date and time.
      var test_date = new Date();
      user_id[1] = test_date.getDate();
      user_id[2] = test_date.getMonth() + 1;
      user_id[3] = test_date.getFullYear();
      user_id[4] = test_date.getHours();
      user_id[5] = test_date.getMinutes();
      user_id[6] = test_date.getSeconds();

      started = 1;

      // reset new control flags and score
      score = 0;
      newhiscore = 0;
      xcount = 0;
      xclicked = 0;


      myTouchAddListener();
      myDeviceMotionAddListener();
      myDeviceOrientationAddListener();

      // set button colours
      if (showclicks == 1) {
        document.getElementById("AX_BUTTON").style.background = ax_button_colour;
      }
      if (picture_presentation == 1) {
        document.getElementById("PRESENT_PICTURE").src = "0.png";
        document.getElementById("START_BUTTON").style.background = start_button_clicked_colour;
        document.getElementById("START_BUTTON").value = "Click bananas after cherries!";
      }
      else {
        document.getElementById("START_BUTTON").style.background = start_button_clicked_colour;
        document.getElementById("START_BUTTON").value = "Click anywhere for X after A";
      }


      acc_count = 0;
      gyr_count = 0;
      count = 0;
      for (i = 0; i < maxcount; i++) {
        clicks[i] = 0;
        rt[i] = 0;
        acc_mag[i] = 0;
        gyr_mag[i] = 0;
      }

      MyInt = setInterval(function () { myTimer() }, presentation_period);
    }

    function myStopFunction() {
      // set the dimensions and margins of the graph
      var margin = { top: 10, right: 30, bottom: 30, left: 60 },
        width = 460 - margin.left - margin.right,
        height = 400 - margin.top - margin.bottom;

      var omission_data = [];
      for (var i = 0; i < maxcount; i++) {
        if (xaCount.find(e => e == i) && !xaClicked.fill(e => e == i)) {
          omission_data.push({ x: i, y: 1 });
        }
      }
      // append the svg object to the body of the page
      var svg = d3.select("#svg_td")
        .attr("width", width + margin.left + margin.right)
        .attr("height", height + margin.top + margin.bottom)
        .append("g")
        .attr("transform",
          "translate(" + margin.left + "," + margin.top + ")");

      // Add X axis
      var x = d3.scaleLinear()
        .domain([0, maxcount])
        .range([0, width]);
      svg.append("g")
        .attr("transform", "translate(0," + height + ")")
        .call(d3.axisBottom(x));

      // Add Y axis
      var y = d3.scaleLinear()
        .domain([0, 1])
        .range([height, 0]);
      svg.append("g")
        .call(d3.axisLeft(y));

      // Add dots
      svg.append('g')
        .selectAll(".blue-dot")
        .data(omission_data)
        .enter()
        .append("circle")
        .attr("cx", function (d) { return x(d.x); })
        .attr("cy", function (d) { return y(d.y); })
        .attr("r", 1.5)
        .attr("class", "blue-dot")

      svg.append('g')
        .selectAll(".red-dot")
        .data(comissions)
        .enter()
        .append("circle")
        .attr("cx", function (d) { return x(d.x); })
        .attr("cy", function (d) { return y(d.y); })
        .attr("r", 1.5)
        .attr("class", "red-dot")

      started = 0;
      var results;
      clearInterval(MyInt);
      myDeviceMotionRemoveListener();
      myDeviceOrientationRemoveListener();
      myTouchRemoveListener();

      // get date of test ending and store date and time.
      var test_date = new Date();
      user_id[7] = test_date.getDate();
      user_id[8] = test_date.getMonth() + 1;
      user_id[9] = test_date.getFullYear();
      user_id[10] = test_date.getHours();
      user_id[11] = test_date.getMinutes();
      user_id[12] = test_date.getSeconds();
      user_id[13] = version_number;

      if (show_score == 1) {
        xdiff = xcount - xclicked;
        if (xdiff == 0) {
          document.getElementById("START_BUTTON").style.background = start_button_colour;
          document.getElementById("START_BUTTON").value = "All! Score=" + score;
        }
        else {
          xpenalty = xdiff * penaltyscore;
          score += xpenalty;
          document.getElementById("START_BUTTON").style.background = start_button_colour;
          document.getElementById("START_BUTTON").value = "Score=" + score;
        }
        user_id[14] = score;
      }
      else { // revert colour 
        document.getElementById("START_BUTTON").style.background = start_button_colour;
        document.getElementById("START_BUTTON").value = "Finished";
      }
      // calculate mean and SD for reaction time - start from array position [1] rather than [0] since [1] is the first possible X of AX 
      results = myReactionTimeMeanSD(1, maxcount, "RT_MEAN_SD_ALL");
      results = myReactionTimeMeanSD(1, maxcount / 4, "RT_MEAN_SD_Q1");
      results = myReactionTimeMeanSD(1 + (maxcount / 4), maxcount / 2, "RT_MEAN_SD_Q2");
      results = myReactionTimeMeanSD(1 + (maxcount / 2), 3 * maxcount / 4, "RT_MEAN_SD_Q3");
      results = myReactionTimeMeanSD(1 + (3 * maxcount / 4), maxcount, "RT_MEAN_SD_Q4");
      document.getElementById("sums_clicks").innerHTML = "Sum clicks: " + sums_clicks;

      // calculate mean and SD for acceleration - start from [0] array position
      results = myAccelerationMeanSD(0, maxcount, "ACC_MEAN_SD_ALL");
      results = myAccelerationMeanSD(0, maxcount / 4, "ACC_MEAN_SD_Q1");
      results = myAccelerationMeanSD(maxcount / 4, maxcount / 2, "ACC_MEAN_SD_Q2");
      results = myAccelerationMeanSD(maxcount / 2, 3 * maxcount / 4, "ACC_MEAN_SD_Q3");
      results = myAccelerationMeanSD(3 * maxcount / 4, maxcount, "ACC_MEAN_SD_Q4");

      // calculate mean and SD for gyroscope - start from [0] array position
      results = myGyroscopeMeanSD(0, maxcount, "GYR_MEAN_SD_ALL");
      results = myGyroscopeMeanSD(0, maxcount / 4, "GYR_MEAN_SD_Q1");
      results = myGyroscopeMeanSD(maxcount / 4, maxcount / 2, "GYR_MEAN_SD_Q2");
      results = myGyroscopeMeanSD(maxcount / 2, 3 * maxcount / 4, "GYR_MEAN_SD_Q3");
      results = myGyroscopeMeanSD(3 * maxcount / 4, maxcount, "GYR_MEAN_SD_Q4");


      // save the results

      // reduce acceleration and gyroscope to four decimal places first
      var k;
      for (k = 0; k < maxcount; k++) {
        acc_mag[k] = acc_mag[k].toFixed(4);
        gyr_mag[k] = gyr_mag[k].toFixed(4);
      }

      // combine into one Javascript object 
      var combined_data = [];

      for (var i = 0; i < maxcount; i++) {
        combined_data.push({
          "userid": user_id[i],
          "count": samples[i],
          "letter": letters[i],
          "clicks": clicks[i],
          "rt": rt[i],
          "acc_mag": acc_mag[i],
          "gyr_mag": gyr_mag[i],
          //	 "sum_clicks" : sums_clicks[i],
          //	 "mean_rt" : means_rt[i], 
          //	 "mean_acc" : means_acc[i], 
          //	 "mean_gyr" : means_gyr[i]
        });
      }

      if (debug_emailed_data == 1) {
        document.getElementById("EMAILED_DATA_ID").innerHTML = (JSON.stringify(combined_data) + "<br>");
        //    document.getElementById("EMAILED_DATA_ID").innerHTML=("CPT Data to be emailed:" + JSON.stringify(combined_data) + "<br>"); 
        if (acc_t0 > 0) {
          //	  document.getElementById("EMAILED_DATA2_ID").innerHTML=("Sensor Data to be emailed:" + JSON.stringify(acc_gyr) + "<br>"); 
          document.getElementById("EMAILED_DATA2_ID").innerHTML = (JSON.stringify(acc_gyr) + "<br>");
        }
        else {
          //	  document.getElementById("EMAILED_DATA2_ID").innerHTML=("Sensor Data - NOT emailed:" + JSON.stringify(acc_gyr) + "<br>"); 
        }
      }

      // server request
      if (window.XMLHttpRequest) {
        // code for IE7+, Firefox, Chrome, Opera, Safari
        xmlhttp = new XMLHttpRequest();
        if (debug_post_data_success == 1) {
          document.getElementById("POST_DATA_SUCCESS_ID").innerHTML = "XML Request 1 is enabled";
        }
      }
      else {
        // code for IE6, IE5
        xmlhttp = new ActiveXObject("Microsoft.XMLHTTP");
        if (debug_post_data_success == 1) {
          document.getElementById("POST_DATA_SUCCESS_ID").innerHTML = "Using old ActiveX method for IE5 or IE6 ";
        }
      }

      xmlhttp.open("POST", "https://ENTER_WEB_URL/checksenddata_ax_fruit.php", true);
      xmlhttp.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
      xmlhttp.send("my_data=" + encodeURIComponent(JSON.stringify(combined_data)));

      xmlhttp.onreadystatechange = function () {
        if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {
          document.getElementById("POST_DATA_SUCCESS_ID").innerHTML = xmlhttp.responseText;
        };
      };

      // if we have some sensor samples then email them
      if (acc_t0 > 0) {
        // server request 2
        if (window.XMLHttpRequest) {
          // code for IE7+, Firefox, Chrome, Opera, Safari
          xmlhttp2 = new XMLHttpRequest();
          if (debug_post_data_success == 1) {
            document.getElementById("POST_DATA2_SUCCESS_ID").innerHTML = "XML Request 2 is enabled";
          }
        }
        else {
          // code for IE6, IE5
          xmlhttp2 = new ActiveXObject("Microsoft.XMLHTTP");
          if (debug_post_data_success == 1) {
            document.getElementById("POST_DATA2_SUCCESS_ID").innerHTML = "Using old ActiveX method for IE5 or IE6 ";
          }
        }

        xmlhttp2.open("POST", "https://ENTER_WEB_URL/checksenddata_ax_fruit_s.php", true);
        xmlhttp2.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
        xmlhttp2.send("my_data=" + encodeURIComponent(JSON.stringify(acc_gyr)));

        xmlhttp2.onreadystatechange = function () {
          if (xmlhttp2.readyState == 4 && xmlhttp2.status == 200) {
            document.getElementById("POST_DATA2_SUCCESS_ID").innerHTML = xmlhttp2.responseText;
          };
        };

      }

      //  xmlhttp.open("GET","https://ENTER_WEB_URL/success.txt",true);
      //  xmlhttp.send();

      // store results locally if required and possible
      if (store_locally == 1) {
        if (typeof (Storage) !== "undefined") {
          localStorage.user_id = JSON.stringify(user_id);
          localStorage.letters = JSON.stringify(letters);
          localStorage.clicks = JSON.stringify(clicks);
          localStorage.rt = JSON.stringify(rt);
          localStorage.acc_mag = JSON.stringify(acc_mag);
          localStorage.gyr_mag = JSON.stringify(gyr_mag);

          if (debug_storage == 1) {
            document.getElementById("LOCAL_STORAGE_ID").innerHTML = ("Local web storage supported. Also outputting to screen...");
            document.getElementById("RESULT_USER_ID").innerHTML = (localStorage.user_id + "<br>");
            document.getElementById("RESULT_LETTERS_ID").innerHTML = (localStorage.letters + "<br>");
            document.getElementById("RESULT_CLICKS_ID").innerHTML = (localStorage.clicks + "<br>");
            document.getElementById("RESULT_RT_ID").innerHTML = (localStorage.rt + "<br>");
            document.getElementById("RESULT_ACC_MAG_ID").innerHTML = (localStorage.acc_mag + "<br>");
            document.getElementById("RESULT_GYR_MAG_ID").innerHTML = (localStorage.gyr_mag + "<br>");
          }
        }
        else {
          // No web storage support 
          if (debug_storage == 1) {
            document.getElementById("LOCAL_STORAGE_ID").innerHTML = ("Local web storage not supported. Outputting to screen...");
            document.getElementById("RESULT_USER_ID").innerHTML = (user_id + "<br>");
            document.getElementById("RESULT_LETTERS_ID").innerHTML = (letters + "<br>");
            document.getElementById("RESULT_CLICKS_ID").innerHTML = (clicks + "<br>");
            document.getElementById("RESULT_RT_ID").innerHTML = (rt + "<br>");
            document.getElementById("RESULT_ACC_MAG_ID").innerHTML = (acc_mag + "<br>");
            document.getElementById("RESULT_GYR_MAG_ID").innerHTML = (gyr_mag + "<br>");
          }
        }
      }
    }

    function myReactionTimeMeanSD(n1, n2, id) {
      var ax_count = 0;
      var omission_errors = 0;
      var commission_errors = 0;
      var ax_clicks = 0;
      var ax_clicks_unique = 0;
      var rt_mean = 0;
      var rt_sd = 0;
      var rt_variance = 0;
      var i = 0;
      for (i = n1; i < n2; i++) {
        if (letters[i] == 'X') {
          if (letters[i - 1] == 'A') {
            ax_count++;
            if (clicks[i] == 0) {
              omission_errors++;       // count if AX is missed  
            }
            else {
              rt_mean += rt[i];         // only add reaction time for AX clicks
              ax_clicks += clicks[i];   // count number of clicks on the AX (could be >1)
              ax_clicks_unique++;     // count unique clicks on AX
            }
          }
          else {
            if (clicks[i] > 0) {
              commission_errors += clicks[i];   // count for any other X click (could be more than one per presentation)
            }
          }
        }
        else {
          if (clicks[i] > 0)                    // count for any other non-AX click (could be more than one per presentation)
          {
            commission_errors += clicks[i];
          }
        }
      }

      if (rt_mean > 0)                           // work out the reaction time mean and standard deviation 
      {
        rt_mean = rt_mean / (ax_clicks_unique);  // average over no. of unique AX clicks
        rt_variance = 0;
        for (i = n1; i < n2; i++) {
          if (letters[i] == 'X') {
            if (letters[i - 1] == 'A') {
              if (clicks[i] > 0) {
                // note: if extra ax clicks then only the first rt was recorded
                rt_variance += (rt_mean - rt[i]) * (rt_mean - rt[i]);
              }
            }
          }
        }
        if (ax_clicks_unique > 1)   // check N-1 > 0 as we are using sample variance
        {
          rt_sd = Math.sqrt(rt_variance / (ax_clicks_unique - 1));  // average over no. of unique AX clicks
          if (debug_rt_mean == 1) {
            document.getElementById(id).innerHTML = ("AX count=" + ax_count + " AX clicks=" + ax_clicks + " Omissions=" + omission_errors + " Errors=" + commission_errors + " MeanRT=" + rt_mean + " StdDevRT=" + rt_sd + "<br />");
          }
        }
        else {
          if (debug_rt_mean == 1) {
            document.getElementById(id).innerHTML = ("AX count=" + ax_count + " AX clicks=" + ax_clicks + " Omissions=" + omission_errors + " Errors=" + commission_errors + " MeanRT=" + rt_mean + " StdDevRT=0 since (N-1)=0" + "<br />");
          }
        }
      }
      else {
        if (debug_rt_mean == 1) {
          document.getElementById(id).innerHTML = ("AX count=" + ax_count + " AX clicks=" + ax_clicks + " Omissions=" + omission_errors + " Errors=" + commission_errors + " No AX clicks!" + "<br />");
        }
      }
      //  var results_rt = [ ax_count, ax_clicks, omission_errors, commission_errors, rt_mean, rt_std ];
      // nasty use of global array within function
      sums_clicks[n1 - 1] = ax_count;
      sums_clicks[n1] = ax_clicks;
      sums_clicks[n1 + 1] = omission_errors;
      sums_clicks[n1 + 2] = commission_errors;
      means_rt[n1 - 1] = rt_mean.toFixed(4);
      means_rt[n1] = rt_sd.toFixed(4);
      results_rt = 1;
      return results_rt;
    }

    function myAccelerationMeanSD(an1, an2, aid) {
      var acc_mean = 0;
      var acc_sd = 0;
      var acc_variance = 0;
      var ai = 0;
      var acount = 0;
      for (ai = an1; ai < an2; ai++) {
        acc_mean += acc_mag[ai];
        acount++;
      }
      acc_mean = acc_mean / acount;
      if (acc_mean > 0) {
        acc_variance = 0;
        for (ai = an1; ai < an2; ai++) {
          acc_variance += (acc_mean - acc_mag[ai]) * (acc_mean - acc_mag[ai]);
        }
        if (acount > 1)   // N-1 > 0
        {
          acc_sd = Math.sqrt(acc_variance / (acount - 1));
          if (debug_acc_mean == 1) {
            document.getElementById(aid).innerHTML = ("MeanAcc=" + acc_mean + " StdDevAcc=" + acc_sd + "<br />");
          }
        }
        else {
          if (debug_acc_mean == 1) {
            document.getElementById(aid).innerHTML = ("MeanAcc=" + acc_mean + " StdDevAcc=0 since (N-1)=0" + "<br />");
          }
        }
      }
      else {
        if (debug_acc_mean == 1) {
          document.getElementById(aid).innerHTML = ("MeanAcc=0" + "<br />");
        }
      }
      //  var results_acc = [ acc_mean, acc_sd ];
      // nasty use of global array within function to save the results
      means_acc[an1] = acc_mean.toFixed(4);
      means_acc[an1 + 1] = acc_sd.toFixed(4);
      var results_acc = 1;
      return results_acc;
    }

    function myGyroscopeMeanSD(gn1, gn2, gid) {
      var gyr_mean = 0;
      var gyr_sd = 0;
      var gyr_variance = 0;
      var gi = 0;
      var gcount = 0;
      for (gi = gn1; gi < gn2; gi++) {
        gyr_mean += gyr_mag[gi];
        gcount++;
      }
      gyr_mean = gyr_mean / gcount;
      if (gyr_mean > 0) {
        gyr_variance = 0;
        for (gi = gn1; gi < gn2; gi++) {
          gyr_variance += (gyr_mean - gyr_mag[gi]) * (gyr_mean - gyr_mag[gi]);
        }
        if (gcount > 1)   // check N-1 > 0
        {
          gyr_sd = Math.sqrt(gyr_variance / (gcount - 1));
          if (debug_gyr_mean == 1) {
            document.getElementById(gid).innerHTML = ("MeanGyr=" + gyr_mean + " StdDevGyr=" + gyr_sd + "<br />");
          }
        }
        else {
          if (debug_gyr_mean == 1) {
            document.getElementById(gid).innerHTML = ("MeanGyr=" + gyr_mean + " StdDevGyr=0 since (N-1)=0" + "<br />");
          }
        }
      }
      else {
        if (debug_gyr_mean == 1) {
          document.getElementById(gid).innerHTML = ("MeanGyr=0" + "<br />");
        }
      }
      //  var results_acc = [ acc_mean, acc_sd ];
      // nasty use of global array within function to save the results
      means_gyr[gn1] = gyr_mean.toFixed(4);
      means_gyr[gn1 + 1] = gyr_sd.toFixed(4);
      var results_gyr = 1;
      return results_gyr;
    }


    function myReactionTimeFunction() {
      if (started == 1) {
        d = new Date();
        t2 = d.getTime();
        tr = t2 - t1;
        if (debug_rt == 1) {
          document.getElementById("RT_ID").innerHTML = ("RT=" + letters[count - 1] + "(" + tr + ")");
        }
        if (showclicks == 1) {
          document.getElementById("AX_BUTTON").style.background = ax_button_clicked_colour;
        }
        if (showstartclicks == 1) {
          document.getElementById("START_BUTTON").style.background = start_button_showclick_colour;
        }

        if (rt[count - 1] == 0) {
          rt[count - 1] = tr;  // only record the first click reaction time, in the case of multiple clicks

          // work out score
          if (letters[count - 1] == "X" && letters[count - 2] == "A") {
            xclicked++;
            thisscore = presentation_period - tr + tr % 5;		 // round to 5 or 0
            score += thisscore;
            xaClicked.push(count);
          }
          else {
            score -= 100;   // penalise wrong click
            comissions.push({ x: count, y: 1 });
          }
        }
        clicks[count - 1]++; //detect clicks and multiple clicks during presentation
        if (debug == 1) {
          document.getElementById("SCORE").innerHTML = "Score = " + score;
        }
      }
    }



    function myReactionTimeFunction_button() {
      if (is_touch_device) {
        // do nothing to avoid double count when there is a touch screen or using mouse
      }
      else {
        if (is_mouse_device) {
          // again do nothing to avoid double count when there is a touch screen or using mouse
        }
        else {
          d = new Date();
          t2 = d.getTime();
          tr = t2 - t1;
          if (debug_rt == 1) {
            document.getElementById("RT_ID").innerHTML = ("RT=" + letters[count - 1] + "(" + tr + ")");
          }
          if (showclicks == 1) {
            document.getElementById("AX_BUTTON").style.background = ax_button_clicked_colour;
          }

          if (rt[count - 1] == 0) {
            rt[count - 1] = tr;  // only record the first click reaction time, in the case of multiple clicks
          }
          clicks[count - 1]++; //detect clicks and multiple clicks during presentation 
        }
      }
    }

  </script>

</head>

<input type="button" id="START_BUTTON" value="Click to PLAY!" onclick="myStartFunction()"
  style="font-size:20px;width:300px;height:30px;background-color:#ff0000" />
<p></p>
<!--Add instructions -->
<textarea id="INSTRUCTIONS_TEXTBOX" cols="35" rows="22" wrap="soft">Instructions&#13;&#10;&#13;&#10;This game will test your attention and concentration.

In this game you will see lots of different letters of the alphabet flashing by one by one on the screen.

You will need to keep watching these letters and click only if you see X which comes immediately after A. So, keep an eye out for both A and X.

Make sure you click as quickly and accurately as possible.

The task will take approximately 8 minutes to complete.

</textarea>
<!--<input type="button" id="AX_BUTTON" value="Click for X after A" onclick="myReactionTimeFunction_button()" style="font-size:30px;width:250px;height:70px;background-color:#bfbfbf" />
<p></p>
-->
<img class="hidden" src="0.png"> </img>
<img class="hidden" src="1.png"> </img>
<img class="hidden" src="2.png"> </img>
<img class="hidden" src="3.png"> </img>
<img class="hidden" src="4.png"> </img>
<img class="hidden" src="5.png"> </img>
<img class="hidden" src="6.png"> </img>
<img class="hidden" src="7.png"> </img>
<img class="hidden" src="8.png"> </img>
<img class="hidden" src="9.png"> </img>
<img class="hidden" src="10.png"> </img>
<img class="hidden" src="12.png"> </img>

<img id="PRESENT_PICTURE" src="" style="text-align:center;" width="284">
<br><br>
<div id="PRESENT_LETTER" style="font-family:verdana;font-size:100px;color:#40B3DF;padding-left:120px;">
</div>

<div id="USER_ID" style="font-family:verdana;font-size:20px;">
</div>
<div id="SCORE" style="font-family:verdana;font-size:20px;">
</div>
<div id="GYRO_PRESENT" style="font-family:verdana;font-size:20px;">Gyro not present
</div>
<div id="ACC_PRESENT" style="font-family:verdana;font-size:20px;">Accelerometer not present
</div>

<div id="COUNT_ID" style="font-family:verdana;font-size:20px;">
</div>
<div id="RT_ID" style="font-family:verdana;font-size:20px;">
</div>
<div id="ACC_MAG_ID" style="font-family:verdana;font-size:20px;">
</div>
<div id="GYR_MAG_ID" style="font-family:verdana;font-size:20px;">
</div>

<div id="TOUCHMOVE_XY" style="font-family:verdana;font-size:20px;">
</div>
<div id="RT_MEAN_SD_ALL" style="font-family:verdana;font-size:20px;color:#DF0000;">
</div>
<div id="RT_MEAN_SD_Q1" style="font-family:verdana;font-size:20px;">
</div>

<div id="RT_MEAN_SD_Q2" style="font-family:verdana;font-size:20px;">
</div>
<div id="RT_MEAN_SD_Q3" style="font-family:verdana;font-size:20px;">
</div>
<div id="RT_MEAN_SD_Q4" style="font-family:verdana;font-size:20px;">
</div>
<div id="ACC_MEAN_SD_ALL" style="font-family:verdana;font-size:20px;color:#DF0000;">
</div>
<div id="ACC_MEAN_SD_Q1" style="font-family:verdana;font-size:20px;">
</div>

<div id="ACC_MEAN_SD_Q2" style="font-family:verdana;font-size:20px;">
</div>
<div id="ACC_MEAN_SD_Q3" style="font-family:verdana;font-size:20px;">
</div>
<div id="ACC_MEAN_SD_Q4" style="font-family:verdana;font-size:20px;">
</div>

<div id="GYR_MEAN_SD_ALL" style="font-family:verdana;font-size:20px;color:#DF0000;">
</div>
<div id="GYR_MEAN_SD_Q1" style="font-family:verdana;font-size:20px;">
</div>

<div id="GYR_MEAN_SD_Q2" style="font-family:verdana;font-size:20px;">
</div>
<div id="GYR_MEAN_SD_Q3" style="font-family:verdana;font-size:20px;">
</div>
<div id="GYR_MEAN_SD_Q4" style="font-family:verdana;font-size:20px;">
</div>



<div id="LOCAL_STORAGE_ID" style="font-family:verdana;font-size:20px;">
</div>

<div id="EMAILED_DATA_ID" style="font-family:verdana;font-size:20px;">
</div>

<div id="POST_DATA_SUCCESS_ID" style="font-family:verdana;font-size:20px;">
</div>

<div id="EMAILED_DATA2_ID" style="font-family:verdana;font-size:20px;">
</div>

<div id="POST_DATA2_SUCCESS_ID" style="font-family:verdana;font-size:20px;">
</div>


<div id="RESULT_USER_ID" style="font-family:verdana;font-size:20px;color:#DF0000;">
</div>

<div id="RESULT_LETTERS_ID" style="font-family:verdana;font-size:20px;color:#DF0000;">
</div>

<div id="RESULT_CLICKS_ID" style="font-family:verdana;font-size:20px;color:#DF0000;">
</div>

<div id="RESULT_RT_ID" style="font-family:verdana;font-size:20px;color:#DF0000;">
</div>

<div id="RESULT_ACC_MAG_ID" style="font-family:verdana;font-size:20px;color:#DF0000;">
</div>

<div id="RESULT_GYR_MAG_ID" style="font-family:verdana;font-size:20px;color:#DF0000;">
</div>

<div id="DM_EVENT" style="font-family:verdana;font-size:20px;"></div>
<div id="DO_EVENT" style="font-family:verdana;font-size:20px;"></div>
<div id="ACC_X" style="font-family:verdana;font-size:20px;"></div>
<div id="ACC_Y" style="font-family:verdana;font-size:20px;"></div>
<div id="ACC_Z" style="font-family:verdana;font-size:20px;"></div>
<div id="GYR_A" style="font-family:verdana;font-size:20px;"></div>
<div id="GYR_B" style="font-family:verdana;font-size:20px;"></div>
<div id="GYR_G" style="font-family:verdana;font-size:20px;"></div>
<div id="sums_clicks" style="font-family:verdana;font-size:20px;"></div>
<svg id="svg_td"></svg>
<svg id="svg_acc"></svg>
<svg id="svg_gyro"></svg>
</body>

</html>